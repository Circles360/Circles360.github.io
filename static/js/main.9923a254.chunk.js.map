{"version":3,"sources":["components/degreeplanner-course.jsx","components/getelement.js","components/checkprerequisites.js","components/customnode1.js","components/customnode2.js","components/headernode1.js","components/hoverinfo.js","components/unhoverprerequisites.js","components/dropdownDegrees.js","components/sidebar-modal.js","components/sidebar.js","components/degreeplanner-term.jsx","components/degreeplanner.js","components/unselectnode.js","components/highlightelements.js","maps/EngineeringHonoursSoftware/map.js","components/selectnode.js","components/getselectable.js","components/exclusionswap.js","components/hoverprerequisites.js","components/teaching.js","App.js","serviceWorker.js","index.js"],"names":["Course","draggableId","this","props","course","id","index","provided","ref","innerRef","draggableProps","dragHandleProps","style","margin","content","placeholder","React","Component","getElement","elementsData","console","log","e","checkPrerequisites","node","elements","selectedNodes","data","conditions","prerequisites","prereqs_executable","condition","replace","match","hasOwnProperty","eval","units_required","level_for_units","total","target","selected","units","core_year","zIndex","pointerEvents","opacity","top","memo","type","position","course_code","bottom","degree_name","HoverInfo","unhoverPrerequisites","hoverEdges","edge","courseOptions","programOptions","code","programsJSON","degrees_involved","majors","length","honours","push","name","replacement","spec","specialisationsJSON","getMajors","minors","getMinors","DropdownDegrees","state","majorOptions","minorOptions","disabledPrimary","disabledSecondary","hiddenPrimary","hiddenSecondary","valProgram","valPrimary","valSecondary","phPrimary","phSecondary","chooseProgram","program","value","setState","choosePrimary","chooseSecondary","minor","clickDone","Grid","centered","marginBottom","Row","Dropdown","selection","search","onChange","options","enabled","disabled","visibility","Button","onClick","color","exampleReducer","action","open","dimmer","Error","SideBarModal","useReducer","undefined","dispatch","Modal","closeIcon","onClose","Header","textAlign","Container","as","marginTop","example","key","flag","text","Sidebar","paddingLeft","paddingRight","Message","info","stretched","fluid","multiple","selector","animated","Content","visible","hidden","Icon","checkTermAvailability","courseId","termId","term","substring","allCourses","termsAvailable","includes","checkValidCourses","courseIds","Term","droppableId","snapshot","Segment","backgroundColor","isDraggingOver","draggingOverWith","transition","title","droppableProps","minHeight","courses","map","selectedCourses","getCourses","forEach","c","coursesJSON","terms","course_name","generateTerms","yearId","TSKey","T1Key","T2Key","T3Key","generatePlan","years","plan","year","toString","populateTerms","DegreePlanner","onDragEnd","result","destination","source","sourceYear","start","destinationYear","finish","startCourseIds","Array","from","splice","newStart","finishCourseIds","newFinish","newState","newCourseIds","newTerm","Object","keys","columns","termOrder","Column","unselectNode","selectedEdges","selectableNodes","potentialEdges","unselectQueue","current","shift","prereq","unlocks","unlockCourse","highlightElements","isEdge","stroke","strokeWidth","background","backgroundColour","filter","textColour","require","nodesData","isNode","edgesData","exclusionGroups","exclusionNodes","group","exclusion","onLoad","reactFlowInstance","last","pop","isHidden","setTransform","x","y","zoom","nodeTypes","custom1","CustomNode1","custom2","CustomNode2","header1","HeaderNode1","layoutStyle","overflowX","overflowY","width","height","BESengah","hoverDisplay","useState","setElements","hoverText","setHoverText","hoverNode","setHoverNode","clickCount","singleClickTimer","layout","setLayout","selectUnselect","element","selectNode","analyseNodes","split","nodeID","getSelectable","toggleExclusion","edges","newElements","prevCourse","curCourse","curNode","edgesList","getConnectedEdges","newEdgesList","edgesIds","newEdgesIds","newEdge","checkedEdges","hideEdge","newEdgeId","sourceNode","targetNode","exclusionSwap","divided","onMouseEnter","onMouseLeave","nodesConnectable","onElementClick","event","setTimeout","clearTimeout","minZoom","onNodeMouseEnter","prereqQueue","hoverPrerequisites","onNodeMouseLeave","selectNodesOnDrag","onNodeContextMenu","onNodeDragStop","whyDidYouRender","initialElements","label","fitView","Teaching","els","nodesDraggable","nodeColor","n","concat","Math","random","window","innerWidth","innerHeight","App","basename","path","component","Boolean","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.9923a254.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Label, Container } from 'semantic-ui-react'\r\n\r\nimport { Draggable } from \"react-beautiful-dnd\"\r\n\r\nexport default class Course extends React.Component {\r\n    render () {\r\n        return (\r\n            <Container>\r\n                <Draggable draggableId={this.props.course.id} index={this.props.index}>\r\n                    {provided => (\r\n                        <div>\r\n                            <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\r\n                                <Label style={{margin: \"5px\"}}>{this.props.course.content}</Label>\r\n                            </div>\r\n                            {provided.placeholder}\r\n                        </div>\r\n                    )}\r\n                </Draggable>\r\n            </Container>\r\n        );\r\n    }\r\n}","// Given an id, returns the element\r\nconst getElement = (id, elementsData) => {\r\n    console.log(\"GET ELEMENT OF \" + id);\r\n    for (var e of elementsData) {\r\n        if (e.id === id) {\r\n            return e;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default getElement;","// Returns true if all prerequisites are met for a given node\r\n// Returns false if prerequisites are not met for a given node\r\n// Will only analyse targets of potential edges\r\n\r\nimport Course from \"./degreeplanner-course\";\r\n\r\nimport getElement from './getelement.js';\r\n\r\n// NOTE: Assumes that source of potential edges are always selected\r\nexport default function checkPrerequisites(node, elements, selectedNodes) {\r\n    if (node.data.conditions.prerequisites !== null && node.data.conditions.prereqs_executable !== null) {\r\n        // Evaluate the condition\r\n        var condition = node.data.conditions.prereqs_executable;\r\n        condition = condition.replace(/[A-Z]{4}[A-Z0-9]*/gi, function(match) {\r\n            if (selectedNodes.hasOwnProperty(match)) {\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n        if (eval(condition)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    } else {\r\n        // Check if units required exists\r\n        if (node.data.conditions.units_required !== null) {\r\n            if (node.data.conditions.level_for_units === null) {\r\n                console.log(\"LEVEL FOR UNITS\", node.id);\r\n                // See if we meet the total for this course\r\n                var total = 0;\r\n                const target = node.data.conditions.units_required;\r\n                for (const selected of selectedNodes) {\r\n                    const node = getElement(selected, elements);\r\n                    total += node.units;\r\n                    console.log(\"HELLO\");\r\n                }\r\n\r\n                if (total >= target) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        } else if (node.data.conditions.core_year !== null) {\r\n            console.log(\"CORE YEAR NOT NULL\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return true;\r\n\r\n    // TODO: Check for corerequsiites and exclusion courses as well\r\n    // TODO: Check for completion of units and core_year\r\n\r\n    // Check if these nodes are enough to satisfy prerequisites\r\n    // Get the prerequisite condition and replace courses by 1 if they have been\r\n    // selected and 0 if they have not.\r\n    \r\n\r\n}\r\n\r\n\r\n","// For normal nodes\r\nimport React, { memo } from 'react';\r\n\r\nimport { Handle } from 'react-flow-renderer';\r\n\r\nconst style = {zIndex: -9999, pointerEvents: 'none', opacity: 0, top: '50%'};\r\nexport default memo(({ data }) => {\r\n  return (\r\n    <>\r\n      <Handle type=\"target\" position=\"top\" style={style} />\r\n      <div>\r\n            <b>{data.course_code}</b>\r\n      </div>\r\n      <Handle type=\"source\" position=\"bottom\" style={style} />\r\n    </>\r\n  );\r\n});\r\n","// For grouping nodes\r\nimport React, { memo } from 'react';\r\n\r\nimport { Handle } from 'react-flow-renderer';\r\n\r\nexport default memo(({ data }) => {\r\n  return (\r\n    <>\r\n      <Handle type=\"target\" position=\"top\" style={{zIndex: -9999, pointerEvents: 'none', opacity: 0, top: '50%'}} />\r\n      <div>\r\n          <b>{data.id}</b>\r\n      </div>\r\n      <Handle type=\"source\" position=\"bottom\" style={{zIndex: -9999, pointerEvents: 'none', opacity: 0, bottom: '50%'}} />\r\n    </>\r\n  );\r\n});\r\n","import React, { memo } from 'react';\r\n\r\nimport { Handle } from 'react-flow-renderer';\r\n\r\nexport default memo(({ data }) => {\r\n  return (\r\n    <>\r\n      <Handle type=\"target\" position=\"top\" style={{opacity: 0, top: '50%'}} />\r\n      <div>\r\n            <b>{data.degree_name}</b>\r\n      </div>\r\n      <Handle type=\"source\" position=\"bottom\" style={{opacity: 0, bottom: '50%'}} />\r\n    </>\r\n  );\r\n});\r\n","// Displays hover text in top left corner which contains info about the course\r\nimport React from 'react';\r\nimport '../styles/hover.css';\r\n\r\nexport default function HoverInfo(props) {\r\n    console.log(props);\r\n    return (\r\n        <div id=\"hoverbox\">\r\n            <div id=\"header\">\r\n                {props.node.id}\r\n            </div>\r\n        </div>\r\n    );\r\n}","// HELPER FUNCTION to delete prerequisite edges\r\n// Usually used after unhovering or onclick\r\nexport default function unhoverPrerequisites(hoverEdges) {\r\n    for (var edge in hoverEdges) {\r\n        delete hoverEdges[edge];\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Button, Dropdown, Grid } from 'semantic-ui-react'\r\n\r\nimport programsJSON from \"../webscraper/programs.json\"\r\nimport specialisationsJSON from \"../webscraper/specialisations.json\"\r\n\r\nconst MAJORS = 1;\r\nconst MINORS = 2;\r\nconst HONOURS = 3;\r\n\r\nconst courseOptions = {}\r\nconst programOptions = []\r\n\r\nconsole.log(programsJSON)\r\n\r\nfor (const code in programsJSON) {\r\n    if (programsJSON[code].degrees_involved.majors.length === 0 && programsJSON[code].degrees_involved.honours.length === 0) continue;\r\n\r\n    programOptions.push({\r\n        \"key\": code,\r\n        \"value\": code,\r\n        \"text\": code + \" - \" + programsJSON[code].name\r\n    })\r\n\r\n    courseOptions[code] = programsJSON[code].degrees_involved\r\n}\r\n\r\nfor (const code in courseOptions) {\r\n    for (const type in courseOptions[code]) {\r\n\r\n        const replacement = [];\r\n        for (const spec of courseOptions[code][type]) {\r\n            if (!(spec in specialisationsJSON)) continue;\r\n            replacement.push({\r\n                \"key\": spec,\r\n                \"value\": spec,\r\n                \"text\": spec + \" - \" + specialisationsJSON[spec].name\r\n            })\r\n        }\r\n        courseOptions[code][type] = replacement;\r\n    }\r\n}\r\n\r\n// returns MAJORS if Majors but no Minors\r\n// returns MINORS if Majors and Minors exist\r\n// returns HONOURS if Honours exist\r\nconst getMajors = (code) => {\r\n    if (!(code in courseOptions)) {\r\n        console.log(\"code not found in majors\", code);\r\n        return [];\r\n    }\r\n\r\n    if (courseOptions[code].honours.length) return [HONOURS, courseOptions[code].honours];\r\n    if (courseOptions[code].minors.length) return [MINORS, courseOptions[code].majors];\r\n    return [MAJORS, courseOptions[code].majors];\r\n}\r\n\r\nconst getMinors = (code) => {\r\n    if (!(code in courseOptions)) {\r\n        console.log(\"code not found in minors\", code);\r\n        return [];\r\n    }\r\n\r\n    return courseOptions[code].minors;\r\n}\r\n\r\nclass DropdownDegrees extends Component {\r\n    state = {\r\n        programOptions: programOptions,\r\n        majorOptions: [],\r\n        minorOptions: [],\r\n\r\n        disabledPrimary: true,\r\n        disabledSecondary: true,\r\n        hiddenPrimary: 'hidden',\r\n        hiddenSecondary: 'hidden',\r\n\r\n        valProgram: null,\r\n        valPrimary: null,\r\n        valSecondary: null,\r\n\r\n        phPrimary: \"Select\",\r\n        phSecondary: \"N/A\"\r\n    }\r\n\r\n    chooseProgram = (e, program) => {\r\n        const [type, majors] = getMajors(program.value)\r\n        console.log(program.value)\r\n        this.setState({\r\n            valProgram: program.value,\r\n\r\n            valPrimary: null,\r\n            disabledPrimary: false,\r\n            hiddenPrimary: 'visible',\r\n            majorOptions: majors,\r\n            phPrimary: \"Select Major\",\r\n\r\n            valSecondary: null,\r\n            disabledSecondary: true,\r\n            hiddenSecondary: 'hidden',\r\n            minorOptions: [],\r\n            phSecondary: \"N/A\"\r\n        })\r\n\r\n        if (type === HONOURS) this.setState({phPrimary: \"Select Honour\"})\r\n        else if (type === MAJORS) this.setState({phPrimary: \"Select Major\"})\r\n        else {\r\n            this.setState({\r\n                phPrimary: \"Select Major\",\r\n                phSecondary: \"Select Minor\",\r\n                minorOptions: getMinors(program.value),\r\n                disabledSecondary: false,\r\n                hiddenSecondary: 'visible',\r\n            });\r\n        }\r\n    }\r\n\r\n    choosePrimary = (e, spec) => {\r\n        this.setState({\r\n            valPrimary: spec.value\r\n        })\r\n    }\r\n\r\n    chooseSecondary = (e, minor) => {\r\n        this.setState({\r\n            valSecondary: minor.value\r\n        })\r\n    }\r\n\r\n    clickDone = () => {\r\n        console.log('Running click')\r\n        // console.log(this.state)\r\n        console.log(this.state.valProgram, this.state.valPrimary, this.state.valSecondary)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            <Grid centered style={{marginBottom: \"20px\"}}> \r\n                <Grid.Row>  \r\n                    <Dropdown\r\n                        selection\r\n                        search\r\n                        onChange={this.chooseProgram}\r\n                        options= {this.state.programOptions}\r\n                        enabled\r\n                        placeholder= 'Select Program'\r\n                    />\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                    <Dropdown\r\n                        selection\r\n                        search\r\n                        onChange={this.choosePrimary}\r\n                        options= {this.state.majorOptions}\r\n                        disabled= {this.state.disabledPrimary}\r\n                        value= {this.state.valPrimary}\r\n                        placeholder= {this.state.phPrimary}\r\n                        style={{visibility: this.state.hiddenPrimary}}\r\n                    />\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                    <Dropdown\r\n                        selection\r\n                        search\r\n                        onChange={this.chooseSecondary}\r\n                        options= {this.state.minorOptions}\r\n                        disabled= {this.state.disabledSecondary}\r\n                        value= {this.state.valSecondary}\r\n                        placeholder= {this.state.phSecondary}\r\n                        style={{visibility: this.state.hiddenSecondary}}\r\n                    />\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                    <Button\r\n                    onClick={this.clickDone}\r\n                    color=\"red\"\r\n                    >Done! Print to console</Button>\r\n                </Grid.Row>\r\n            </Grid>\r\n            \r\n\r\n        </>;\r\n    }\r\n}\r\n\r\nexport default DropdownDegrees\r\n\r\n{/* <Button\r\nanimated=\"vertical\"\r\ncolor=\"red\"\r\n>\r\n<Button.Content visible>Generate degree planner</Button.Content>\r\n<Button.Content hidden>\r\n    <Icon name=\"arrow down\" />\r\n</Button.Content>\r\n</Button> */}","import React, { useState } from \"react\";\r\nimport DropdownDegrees from \"./dropdownDegrees.js\"\r\nimport { Icon, Button, Container, Modal, Header, Dropdown, Grid, Message } from 'semantic-ui-react'\r\n\r\nfunction exampleReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'OPEN_MODAL':\r\n      return { open: true, dimmer: action.dimmer }\r\n    case 'CLOSE_MODAL':\r\n      return { open: false }\r\n    default:\r\n      throw new Error()\r\n  }\r\n}\r\n\r\nfunction SideBarModal() {\r\n  const [state, dispatch] = React.useReducer(exampleReducer, {\r\n    open: false,\r\n    dimmer: undefined,\r\n  })\r\n  const { open, dimmer } = state\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => dispatch({ type: 'OPEN_MODAL', dimmer: 'blurring' })}\r\n      >\r\n        Click on Me :) \r\n      </Button>\r\n\r\n      <Modal\r\n        closeIcon\r\n        dimmer={dimmer}\r\n        open={open}\r\n        onClose={() => dispatch({ type: 'CLOSE_MODAL' })}\r\n      >\r\n        <Modal.Header textAlign=\"center\">Degree Planner</Modal.Header>\r\n        <Container>\r\n            <Header as=\"h3\" textAlign=\"center\" style={{marginTop: \"5px\"}}>Choose your degree</Header>\r\n            <DropdownDegrees />\r\n        </Container>\r\n        {/* <Modal.Actions>\r\n          <Button color='black' onClick={() => {\r\n              dispatch({ type: 'CLOSE_MODAL' });\r\n            }}>\r\n            Generate\r\n          </Button>\r\n        </Modal.Actions> */}\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SideBarModal\r\n\r\n//DropdownDegrees.clickDone() \r\n\r\n//DropdownDegrees d = new DropdownDegrees(); \r\n//d.clickDone()","import React, {useState} from 'react';\r\nimport DropdownDegrees from \"./dropdownDegrees.js\"\r\nimport SidebarModal from \"./sidebar-modal.js\"\r\nimport { Icon, Button, Container, Modal, Header, Dropdown, Grid, Message } from 'semantic-ui-react'\r\nimport ScrollTo from \"react-scroll-into-view\"\r\n\r\nconst example = [\r\n    { key: 'af', value: 'af', flag: 'af', text: 'Afghanistan' },\r\n    { key: 'ax', value: 'ax', flag: 'ax', text: 'Aland Islands' },\r\n    { key: 'al', value: 'al', flag: 'al', text: 'Albania' },\r\n    { key: 'dz', value: 'dz', flag: 'dz', text: 'Algeria' },\r\n    { key: 'as', value: 'as', flag: 'as', text: 'American Samoa' },\r\n    { key: 'ad', value: 'ad', flag: 'ad', text: 'Andorra' },\r\n    { key: 'ao', value: 'ao', flag: 'ao', text: 'Angola' },\r\n    { key: 'ai', value: 'ai', flag: 'ai', text: 'Anguilla' },\r\n    { key: 'ag', value: 'ag', flag: 'ag', text: 'Antigua' },\r\n    { key: 'ar', value: 'ar', flag: 'ar', text: 'Argentina' },\r\n    { key: 'am', value: 'am', flag: 'am', text: 'Armenia' },\r\n    { key: 'aw', value: 'aw', flag: 'aw', text: 'Aruba' },\r\n    { key: 'au', value: 'au', flag: 'au', text: 'Australia' },\r\n    { key: 'at', value: 'at', flag: 'at', text: 'Austria' },\r\n    { key: 'az', value: 'az', flag: 'az', text: 'Azerbaijan' },\r\n    { key: 'bs', value: 'bs', flag: 'bs', text: 'Bahamas' },\r\n    { key: 'bh', value: 'bh', flag: 'bh', text: 'Bahrain' },\r\n    { key: 'bd', value: 'bd', flag: 'bd', text: 'Bangladesh' },\r\n    { key: 'bb', value: 'bb', flag: 'bb', text: 'Barbados' },\r\n    { key: 'by', value: 'by', flag: 'by', text: 'Belarus' },\r\n    { key: 'be', value: 'be', flag: 'be', text: 'Belgium' },\r\n    { key: 'bz', value: 'bz', flag: 'bz', text: 'Belize' },\r\n    { key: 'bj', value: 'bj', flag: 'bj', text: 'Benin' }\r\n]\r\n\r\nconst Sidebar = (props) => {\r\n    return (\r\n        <Container style={{paddingLeft: \"10px\", paddingRight: \"10px\"}}>\r\n            <Header as=\"h1\" textAlign=\"center\" style={{marginTop: \"10px\"}}>Circles</Header>\r\n            <Message info>\r\n                <p>Circles is a visual degree planner for UNSW students. Choose your program and degree below to begin!</p>\r\n                <SidebarModal />\r\n            </Message>\r\n\r\n            <Grid stretched>\r\n                <Grid.Row>\r\n                    <Container>\r\n                        <Header as=\"h3\" textAlign=\"center\">Choose your courses</Header>\r\n                        <Header as=\"h4\" style={{marginBottom: 0}}>Level 1 Core Courses</Header>\r\n                        <Dropdown\r\n                            fluid\r\n                            selection\r\n                            search\r\n                            multiple\r\n                            options={example}\r\n                            placeholder=\"Select courses\"\r\n                        />\r\n\r\n                        <Header as=\"h4\" style={{marginBottom: 0}}>Level 2 Core Courses</Header>\r\n                        <Dropdown\r\n                            fluid\r\n                            selection\r\n                            search\r\n                            multiple\r\n                            options={example}\r\n                            placeholder=\"Select courses\"\r\n                        />\r\n\r\n                        <Header as=\"h4\" style={{marginBottom: 0}}>Level 3 Core Courses</Header>\r\n                        <Dropdown\r\n                            fluid\r\n                            selection\r\n                            search\r\n                            multiple\r\n                            options={example}\r\n                            placeholder=\"Select courses\"\r\n                        />\r\n                    </Container>\r\n                </Grid.Row>\r\n\r\n                <Container textAlign=\"center\">\r\n                    <ScrollTo selector=\"#DegreePlanner\">\r\n\r\n                        <Button\r\n                            animated=\"vertical\"\r\n                            color=\"red\"\r\n                        >\r\n                            <Button.Content visible>Generate degree planner</Button.Content>\r\n                            <Button.Content hidden>\r\n                                <Icon name=\"arrow down\" />\r\n                            </Button.Content>\r\n                        </Button>\r\n                    </ScrollTo>\r\n\r\n                </Container>\r\n            </Grid>\r\n        </Container>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Sidebar","import React from \"react\";\r\nimport { Container, Segment, Header } from 'semantic-ui-react'\r\n\r\nimport Course from \"./degreeplanner-course\"\r\n\r\nimport { Droppable } from \"react-beautiful-dnd\"\r\n\r\nconst SUCCESS = \"#e5fbe5\";\r\nconst ERROR = \"#ffebeb\";\r\n\r\nconst checkTermAvailability = (props, courseId) => {\r\n    const termId = props.term.id.substring(1, 3);\r\n    const termAvailability = props.allCourses[courseId].termsAvailable;\r\n\r\n    return termAvailability.includes(termId) ? SUCCESS : ERROR;\r\n}\r\n\r\nconst checkValidCourses = (props) => {\r\n    const termId = props.term.id.substring(1, 3);\r\n\r\n    for (const courseId of props.term.courseIds) {\r\n        if (!props.allCourses[courseId].termsAvailable.includes(termId)) {\r\n            return ERROR\r\n        }\r\n    }\r\n    return \"white\"\r\n}\r\n\r\nexport default class Term extends React.Component {\r\n    render () {\r\n        return (\r\n            <Container>\r\n                <Droppable droppableId={this.props.term.id}>\r\n                    {(provided, snapshot) => (\r\n                        <Segment style={{backgroundColor: snapshot.isDraggingOver ? checkTermAvailability(this.props, snapshot.draggingOverWith) : checkValidCourses(this.props), transition: \"0.2s ease\"}}>\r\n                            <Header as=\"h3\">{this.props.term.title}</Header>\r\n                            <div ref={provided.innerRef} {...provided.droppableProps} style={{minHeight: \"150px\"}}>\r\n                                {this.props.courses.map((course, index) => <Course key={course.id} course={course} index={index} />)}\r\n                                {provided.placeholder}\r\n                            </div>\r\n                        </Segment>\r\n                    )}\r\n                </Droppable>\r\n            </Container>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Icon, Button, Container, Segment, Header, Dropdown, Grid } from 'semantic-ui-react'\r\n\r\n// import programsJSON from \"../webscraper/programs.json\"\r\n// import specialisationsJSON from \"../webscraper/specialisations.json\"\r\nimport coursesJSON from \"../webscraper/courses.json\"\r\n\r\nimport { DragDropContext } from \"react-beautiful-dnd\"\r\nimport Term from \"./degreeplanner-term\"\r\n\r\nconst selectedCourses = [\"COMP1511\", \"COMP1521\", \"COMP1531\", \"MATH1141\", \"MATH1241\", \"ENGG1000\", \"COMP3331\", \"MATH1081\", \"COMP2521\"];\r\n\r\nconst getCourses = (selectedCourses) => {\r\n    const courses = {}\r\n\r\n    selectedCourses.forEach(c => {\r\n        const termsAvailable = coursesJSON[c].terms.map(term => {\r\n            if (term === \"Summer Term\") return \"TS\"\r\n            if (term === \"Term 1\") return \"T1\"\r\n            if (term === \"Term 2\") return \"T2\"\r\n            if (term === \"Term 3\") return \"T3\"\r\n        })\r\n\r\n        courses[c] = {\r\n            id: c,\r\n            content: `${c} - ${coursesJSON[c].course_name}`,\r\n            termsAvailable: termsAvailable\r\n        }\r\n    })\r\n\r\n    return courses\r\n}\r\n\r\nconst generateTerms = (yearId) => {\r\n    const terms = {}\r\n\r\n    // Terms have id of <YEAR>T<TERM TYPE> eg: 1TS is 1st Year, Summer Term\r\n\r\n    const TSKey = `${yearId}TS`;\r\n    const T1Key = `${yearId}T1`;\r\n    const T2Key = `${yearId}T2`;\r\n    const T3Key = `${yearId}T3`;\r\n    terms[\"termOrder\"] = [TSKey, T1Key, T2Key, T3Key];\r\n\r\n    terms[TSKey] = {\r\n        id: TSKey,\r\n        title: \"Summer Term\",\r\n        courseIds: []\r\n    }\r\n\r\n    terms[T1Key] = {\r\n        id: T1Key,\r\n        title: \"Term 1\",\r\n        courseIds: []\r\n    }\r\n\r\n    terms[T2Key] = {\r\n        id: T2Key,\r\n        title: \"Term 2\",\r\n        courseIds: []\r\n    }\r\n\r\n    terms[T3Key] = {\r\n        id: T3Key,\r\n        title: \"Term 3\",\r\n        courseIds: []\r\n    }\r\n\r\n    return terms;\r\n}\r\n\r\nconst populateTerms = (plan) => {\r\n    plan[\"1\"][\"1T2\"].courseIds = [\"COMP1521\", \"MATH1241\", \"COMP2521\"];\r\n    plan[\"1\"][\"1T1\"].courseIds = [\"COMP1511\", \"MATH1141\", \"ENGG1000\"];\r\n    plan[\"1\"][\"1T3\"].courseIds = [\"MATH1081\", \"COMP3331\", \"COMP1531\"];\r\n\r\n    return plan;\r\n}\r\n\r\nconst generatePlan = (years) => {\r\n    let plan = {};\r\n\r\n    for (let year = 1; year <= years; year++) {\r\n        console.log(year)\r\n        plan[year.toString()] = generateTerms(year)\r\n    }\r\n    console.log(\"generated years\", plan)\r\n\r\n    plan = populateTerms(plan)\r\n\r\n    return plan;\r\n}\r\n\r\nclass DegreePlanner extends React.Component {\r\n    state = {\r\n        courses: getCourses(selectedCourses),\r\n        plan: generatePlan(4),\r\n    };\r\n\r\n    onDragEnd = result => {\r\n        const {destination, source, draggableId} = result;\r\n\r\n        // Null destination means label was not dragged into a droppable\r\n        if (!destination) return;\r\n\r\n        // Label was dragged into the same position\r\n        if (destination.droppableId === source.droppableId && destination.index === source.index) return;\r\n\r\n        const sourceYear = source.droppableId[0];\r\n        const start = this.state.plan[sourceYear][source.droppableId];\r\n        const destinationYear = destination.droppableId[0];\r\n        const finish = this.state.plan[destinationYear][destination.droppableId];\r\n\r\n        if (start === finish) {\r\n            const newCourseIds = Array.from(start.courseIds);\r\n            // console.log(\"before\", newCourseIds)\r\n            newCourseIds.splice(source.index, 1); // Remove 1 item at source.index\r\n            newCourseIds.splice(destination.index, 0, draggableId); // Insert dragggableId into destination\r\n            // console.log(\"after\", newCourseIds)\r\n            const newTerm = {\r\n                ...start,\r\n                courseIds: newCourseIds\r\n            };\r\n\r\n            const newState = {\r\n                ...this.state,\r\n                plan: {\r\n                    ...this.state.plan,\r\n                    [sourceYear]: {\r\n                        ...this.state.plan[sourceYear],\r\n                        [newTerm.id]: newTerm,\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.setState(newState);\r\n            return;\r\n        }\r\n\r\n        // Moving from one list to another\r\n        const startCourseIds = Array.from(start.courseIds)\r\n        startCourseIds.splice(source.index, 1);\r\n\r\n        const newStart = {\r\n            ...start,\r\n            courseIds: startCourseIds,\r\n        }\r\n\r\n        const finishCourseIds = Array.from(finish.courseIds)\r\n        finishCourseIds.splice(destination.index, 0, draggableId);\r\n\r\n        const newFinish = {\r\n            ...finish,\r\n            courseIds: finishCourseIds\r\n        }\r\n\r\n        const newState = this.state;\r\n        newState.plan[sourceYear][newStart.id] = newStart;\r\n        newState.plan[destinationYear][newFinish.id] = newFinish;\r\n\r\n        this.setState(newState);\r\n    }\r\n\r\n    populateTerms = () => {\r\n        this.state.plan[\"1\"][\"1T2\"].courseIds = [\"COMP1521\", \"MATH1241\", \"COMP2521\"];\r\n        this.state.plan[\"1\"][\"1T1\"].courseIds = [\"COMP1511\", \"MATH1141\", \"ENGG1000\"];\r\n        this.state.plan[\"1\"][\"1T3\"].courseIds = [\"MATH1081\", \"COMP3331\", \"COMP1531\"];\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Segment>\r\n                <Container>\r\n                    <Header as=\"h2\" textAlign=\"center\" style={{marginTop: \"50px\"}}>Plan your degree</Header>\r\n                    <p>The following degree plan has been generated based on the courses you have selected above. By default, our algorithm:</p>\r\n                    <ul>\r\n                        <li>allocates 18 UOC per term</li>\r\n                        <li>does not allocate courses in Summer Term</li>\r\n                        <li>ensures courses have their prerequisites met</li>\r\n                        <li>ensures courses can be taken in allocated terms</li>\r\n                    </ul>\r\n\r\n                    <p>Drag and drop the courses below to further customise your degree plan!</p>\r\n\r\n                    <p><em>Please note that our data is scraped from the UNSW Handbook and may have some inconsistencies.</em></p>\r\n                    <p><em>Also note, you can drag a course into a term even if it is not offered as our data may be out of date, please double check :) </em></p>\r\n\r\n                    <DragDropContext onDragEnd={this.onDragEnd}>\r\n                        {Object.keys(this.state.plan).map(yearId => (\r\n                            <Grid columns={4}>\r\n                                {this.state.plan[yearId].termOrder.map(termId => {\r\n                                    const term = this.state.plan[yearId][termId];\r\n                                    const courses = term.courseIds.map(courseId => this.state.courses[courseId]);\r\n                                    return (\r\n                                        <Grid.Column>\r\n                                            <Term key={term.id} term={term} courses={courses} allCourses={this.state.courses}/>\r\n                                        </Grid.Column>\r\n                                    );\r\n                                })}\r\n                            </Grid>\r\n                        ))}\r\n                    </DragDropContext>\r\n                    <Segment style={{backgroundColor: \"lightpink\"}}>\r\n                        <Header as=\"h3\">Error messages</Header>\r\n                        <p>None</p>\r\n                    </Segment>\r\n                </Container>\r\n            </Segment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DegreePlanner","// HELPER FUNCTION for unselecting nodes\r\n// Given a selected node, unselects it and pushes it onto a queue to be analysed\r\n// ==================ON THE QUEUE==========================\r\n// Unshift node and Manages its prerequisites as follows:\r\n//  - if the prereq node is selected, turn selected edges into potential edges\r\n//  - if otherwise, do nothing\r\n// Determine the status of the current node:\r\n//  - if it meets prerequisites, leave it as is.\r\n//  - if it does not meet prerequisites, make it unselectable (delete from selectable/selected)\r\n// For each unlock:\r\n// - if the current node is not selected, turn edge grey no matter what\r\n// - if the current node is selected, keep edge as it is\r\n// - push the unlock onto queue if it was selectable/selected\r\nimport getElement from './getelement.js';\r\nimport checkPrerequisites from './checkprerequisites.js';\r\n\r\nexport default function unselectNode(elements, node, selectedNodes, selectedEdges, selectableNodes, potentialEdges) {\r\n    // Unselect this node\r\n    delete selectedNodes[node.id];\r\n    var unselectQueue = [node.id];\r\n    while (unselectQueue.length !== 0) {\r\n        // Unshift and get the node\r\n        const current = getElement(unselectQueue.shift(), elements);\r\n        \r\n        // Analyse its prerequisites\r\n        // If the prereq node is selected, turn selected edge into potential edges\r\n        if (current.data.conditions.prerequisites !== null) {\r\n            for (const prereq of current.data.conditions.prerequisites) {\r\n                if (selectedNodes.hasOwnProperty(prereq)) {\r\n                    if (selectedEdges.hasOwnProperty('e' + prereq + '-' + current.id)) {\r\n                        delete selectedEdges['e' + prereq + '-' + current.id];\r\n                        potentialEdges['e' + prereq + '-' + current.id] = 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Determine the status of the current node\r\n        if (! checkPrerequisites(current, selectedNodes)) {\r\n            // Does not meet prerequisites. Make it unselectable\r\n            if (selectableNodes.hasOwnProperty(current.id)) delete selectableNodes[current.id];\r\n            else if (selectedNodes.hasOwnProperty(current.id)) delete selectedNodes[current.id];\r\n        } else {\r\n            // Meets prerequisites. Make it selectable\r\n            if (selectedNodes.hasOwnProperty(current.id)) delete selectedNodes[current.id];\r\n            selectableNodes[current.id] = 1;\r\n        }\r\n\r\n        // Analyse its unlocks\r\n        if (current.data.unlocks !== null) {\r\n            for (const unlockCourse of current.data.unlocks) {\r\n                if (! selectedNodes.hasOwnProperty(current.id)) {\r\n                    // Make edge grey\r\n                    if (potentialEdges.hasOwnProperty('e' + current.id + '-' + unlockCourse)) delete potentialEdges['e' + current.id + '-' + unlockCourse];\r\n                    else if (selectedEdges.hasOwnProperty('e' + current.id + '-' + unlockCourse)) delete selectedEdges['e' + current.id + '-' + unlockCourse];\r\n                }\r\n\r\n                if (selectedNodes.hasOwnProperty(unlockCourse) || selectableNodes.hasOwnProperty(unlockCourse)) {\r\n                    unselectQueue.push(unlockCourse);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","// Helper functions to highlight nodes and edges\r\n// Will highlight/unhighlight nodes based on selectedNodes dictionary\r\nimport { isEdge } from \"react-flow-renderer\";\r\n\r\nexport default function highlightElements(elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges) {\r\n    const newElements = elements.map((e) => {\r\n        // It is an edge\r\n        if (isEdge(e)) {\r\n            if (selectedEdges.hasOwnProperty(e.id)) {\r\n                if (hoverEdges.hasOwnProperty(e.id)) return {...e, style: {...e.style, stroke: 'red', strokeWidth: 5, opacity: 1}, animated: true};\r\n                else return {...e, style: {...e.style, stroke: 'red', strokeWidth: 5, opacity: 1}, animated: false};\r\n            } else if (potentialEdges.hasOwnProperty(e.id)) {\r\n                if (hoverEdges.hasOwnProperty(e.id)) return {...e, style: {...e.style, stroke: 'blue', strokeWidth: 2.5, opacity: 1}, animated: true};\r\n                else return {...e, style: {...e.style, stroke: 'blue', strokeWidth: 1, opacity: 0.3}, animated: false};\r\n            } else if (hoverEdges.hasOwnProperty(e.id)) {\r\n                return {...e, style: {...e.style, stroke: 'purple', strokeWidth: 2.5, opacity: 1}, animated: true};\r\n            } else {\r\n                return {...e, style: {...e.style, stroke: 'grey', strokeWidth: 1, opacity: 0.2}, animated: false};\r\n            } \r\n        }\r\n\r\n        // It is a node\r\n        if (selectedNodes.hasOwnProperty(e.id)) {\r\n            if (e.style.background === 'white') {\r\n                // It was previously a selectable node. Adjust colours accordingly\r\n                const backgroundColour = e.style.color;\r\n                return {...e, style: {...e.style, color: 'white', background: backgroundColour, filter: 'brightness(1)'}}\r\n            } else {\r\n                // It was an unselected node or an already selected node. Simply make sure its brightness is adjusted\r\n                return {...e, style: {...e.style, filter: 'brightness(1)'}};\r\n            }\r\n        } else if (selectableNodes.hasOwnProperty(e.id)) {\r\n            if (e.style.background === 'white') {\r\n                // It was already a selectable node. Do not need to adjust\r\n                return {...e};\r\n            } else {\r\n                // It was an unselected node or an already selected node. Adjust text colour and background\r\n                const textColour = e.style.background;\r\n                return {...e, style: {...e.style, color: textColour, background: 'white', filter: 'brightness(1)'}};\r\n            }\r\n        } else {\r\n            if (e.style.background === 'white') {\r\n                // It was a selectable node previously. Adjust colours accordingly\r\n                const backgroundColour = e.style.color;\r\n                return {...e, style: {...e.style, color: 'white', background: backgroundColour, filter: 'brightness(0.75)'}}; \r\n            } else {\r\n                // It was either unselected or an already selected node. Simply adjust brightness\r\n                return {...e, style: {...e.style, filter: 'brightness(0.75)'}};\r\n            }\r\n        }\r\n    })\r\n\r\n    return newElements;\r\n}","import React, {useState} from 'react';\r\nimport ReactFlow, {Background, Controls, getConnectedEdges, isNode, isEdge, useStoreState, useStoreActions, ReactFlowProvider, EdgeText} from 'react-flow-renderer';\r\n\r\nimport CustomNode1 from '../../components/customnode1.js';\r\nimport CustomNode2 from '../../components/customnode2.js';\r\nimport HeaderNode1 from '../../components/headernode1.js';\r\n\r\nimport HoverInfo from '../../components/hoverinfo.js';\r\nimport hoverPrerequisites from '../../components/hoverprerequisites.js';\r\nimport unhoverPrerequisites from '../../components/unhoverprerequisites.js';\r\n\r\nimport DropdownD from \"../../components/dropdownDegrees.js\"\r\nimport { Grid, Segment } from 'semantic-ui-react'\r\nimport Sidebar from \"../../components/sidebar.js\"\r\nimport pkg from 'semantic-ui-react/package.json'\r\n\r\nimport DegreePlanner from \"../../components/degreeplanner.js\"\r\nimport DropdownDegrees from '../../components/dropdownDegrees';\r\n\r\nimport positionHelper from '../../components/positionhelper.js';\r\nimport selectNode from '../../components/selectnode.js';\r\nimport unselectNode from '../../components/unselectnode.js';\r\nimport highlightElements from '../../components/highlightelements.js';\r\nimport getSelectable from '../../components/getselectable.js';\r\nimport checkPrerequisites from '../../components/checkprerequisites';\r\nimport exclusionSwap from '../../components/exclusionswap.js';\r\n\r\nvar elementsData = require(\"./data.json\");\r\nvar nodesData = elementsData.filter(e => isNode(e));\r\nvar edgesData = elementsData.filter(e => isEdge(e));\r\nvar selectedNodes = {\r\n    'SENGAH': 1\r\n}\r\nvar selectedEdges = {};\r\nvar selectableNodes = {};\r\nvar potentialEdges = {};\r\nvar hoverEdges = {};\r\n\r\n// Load up the chart with initial selectable nodes and edges\r\nfor (const node of nodesData) {\r\n    if (selectedNodes.hasOwnProperty(node.id)) {\r\n        if (node.data.unlocks === null) continue;\r\n        for (const unlockCourse of node.data.unlocks) {\r\n            potentialEdges['e' + node.id + '-' + unlockCourse] = 1;\r\n        }\r\n    } else if (checkPrerequisites(node, elementsData, nodesData)) {\r\n        selectableNodes[node.id] = 1;\r\n    }\r\n}\r\n\r\nvar exclusionGroups = require(\"./data_exclusion.json\");\r\nvar exclusionNodes = {};\r\nfor (const group of exclusionGroups) {\r\n    for (const exclusion of group) {\r\n        exclusionNodes[exclusion] = 1;\r\n    }\r\n}\r\n\r\nelementsData = highlightElements(elementsData, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges);\r\n\r\n\r\nconst onLoad = (reactFlowInstance) => {\r\n    for (var group of exclusionGroups) {\r\n        const last = group.pop();\r\n    \r\n        for (var course of elementsData) {\r\n            if (last === course.id) {\r\n                course.isHidden = true;\r\n                console.log(\"Hiding \" + course.id);\r\n                // Get all the edges and hide them too\r\n                for (var edge of elementsData) {\r\n                    if (isNode(edge)) continue;\r\n                    if (edge.source === last || edge.target === last) {\r\n                        console.log(\"hiding \" + edge.id);\r\n                        edge.isHidden = true;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        group.push(last);\r\n    }\r\n    reactFlowInstance.setTransform({x: 470, y: 350, zoom: 0.38});\r\n};\r\n\r\nconst nodeTypes = {\r\n    custom1: CustomNode1,\r\n    custom2: CustomNode2,\r\n    header1: HeaderNode1\r\n};\r\n\r\nconst layoutStyle = {overflowX: \"hidden\", overflowY: \"overlay\", width: \"100vw\", height: \"100vh\"};\r\n\r\n\r\nconst BESengah = () => {\r\n    const [elements, setElements] = useState(elementsData);\r\n    const [hoverText, setHoverText] = useState(false);\r\n    const [hoverNode, setHoverNode] = useState();\r\n    const [sidebarOpen, setSidebarOpen] = useState(false);\r\n    var clickCount = 0;\r\n    var singleClickTimer = '';\r\n    const [layout, setLayout] = useState(layoutStyle);\r\n\r\n    const selectUnselect = (element) => {\r\n        // NOTE: Might not need this?????\r\n        // EXPLANATION: Reason we dont need it is because we have to leave node\r\n        // anyways to hover another node. But maybe good practise to have just in case\r\n        // Unhover edges which lit up on nodeMouseEnter\r\n        unhoverPrerequisites(hoverEdges);\r\n\r\n        // 1. Select the node and fill in edges.\r\n        // - Deal with unselecting nodes\r\n        if (selectableNodes.hasOwnProperty(element.id)) {\r\n            selectNode(elements, element, selectedNodes, selectedEdges, selectableNodes, potentialEdges);\r\n        } else if (selectedNodes.hasOwnProperty(element.id)) {\r\n            unselectNode(elements, element, selectedNodes, selectedEdges, selectableNodes, potentialEdges);\r\n        }\r\n\r\n        // 2. Determine which nodes are now selectable\r\n        // - Determine which previously selectable nodes are now unselectable\r\n        getSelectable(elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges);\r\n\r\n        // After selecting node:\r\n        /*console.log(\"==========SelectedNodes==========\");\r\n        console.log(selectedNodes);\r\n        console.log(\"==========SelectedEdges==========\");\r\n        console.log(selectedEdges);\r\n        console.log(\"==========SelectableNodes==========\");\r\n        console.log(selectableNodes);\r\n        console.log(\"==========PotentialEdges==========\");\r\n        console.log(potentialEdges);*/\r\n\r\n        // Render graph accordingly\r\n        setElements(highlightElements(elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges));\r\n    }\r\n\r\n    const toggleExclusion = (element) => {\r\n        // TODO: ARE there courses which do not \r\n        // For all immediate edges of the element, swap\r\n        // with the exclusion course\r\n        setElements(exclusionSwap(element, elements, edgesData, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges, exclusionGroups));\r\n        setElements(highlightElements(elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges));\r\n    }\r\n\r\n\r\n    // ==========ONCLICK==========\r\n    const onElementClick = (event, element) => {\r\n        console.log(\"ONELEMENTCLICK\");\r\n        if (isEdge(element)) return; // Don't care about edges\r\n        if (element.id === 'SENGAH') return; // Cannot click on main node\r\n        if ((! selectableNodes.hasOwnProperty(element.id)) && (! selectedNodes.hasOwnProperty(element.id))) return; // Cannot select non selectable nodes\r\n\r\n        // Determine double or single click for exclusion nodes\r\n        // This will prevent normal nodes from waiting the double click delay\r\n        if (exclusionNodes.hasOwnProperty(element.id)) {\r\n            clickCount++;\r\n            if (clickCount === 1) {\r\n                singleClickTimer = setTimeout(function() {\r\n                    clickCount = 0;\r\n                    selectUnselect(element);\r\n                }, 200);\r\n            } else if (clickCount === 2) {\r\n                clearTimeout(singleClickTimer);\r\n                clickCount = 0;\r\n                toggleExclusion(element);\r\n            }\r\n        } else {\r\n            // Not an exclusion node.\r\n            selectUnselect(element);\r\n        }\r\n    };\r\n    // ===========================\r\n\r\n    // ==========ONHOVER==========\r\n    const onNodeMouseEnter = (event, node) => {\r\n        // Display node information in top left\r\n        setHoverText(true);\r\n        setHoverNode(node);\r\n\r\n        // If the node is unselected, highlight prerequisite edges in purple\r\n        //if ((!selectedNodes.hasOwnProperty(node.id)) && (!selectableNodes.hasOwnProperty(node.id))) {\r\n        hoverPrerequisites(node, elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges);\r\n        //}\r\n        setElements(highlightElements(elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges));\r\n    }\r\n\r\n    const onNodeMouseLeave = (event, node) => {\r\n        setHoverText(false);\r\n        unhoverPrerequisites(hoverEdges);\r\n        setElements(highlightElements(elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges));\r\n    }\r\n\r\n    let hoverDisplay;\r\n    if (hoverText) {\r\n        hoverDisplay = <HoverInfo node={hoverNode}/>\r\n    }\r\n    // ===========================\r\n\r\n    const onNodeContextMenu = (event, node) => {\r\n        console.log(\"THE EVEENT\");\r\n        console.log(event);\r\n    }\r\n\r\n    const onNodeDragStop = (event, node) => {\r\n        for (var e of elements) {\r\n            if (e.id === node.id) {\r\n                e.position.x = node.position.x;\r\n                e.position.y = node.position.y;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    const disableBodyScroll = () => {\r\n        setLayout({...layout, overflowY: 'hidden'});\r\n    }\r\n\r\n    const enableBodyScroll = () => {\r\n        setLayout({...layout, overflowY: 'overlay'});\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div style={layout}>\r\n            <Grid columns={2} divided>\r\n                <Grid.Column width=\"12\">\r\n                    <div onMouseEnter={disableBodyScroll} onMouseLeave={enableBodyScroll}>\r\n                        <ReactFlowProvider>\r\n                            <ReactFlow\r\n                                elements={elements}\r\n                                style={{width: '100%', height: '100vh'}}\r\n                                onLoad={onLoad}\r\n                                nodeTypes={nodeTypes}\r\n                                nodesConnectable={false}\r\n                                onElementClick={onElementClick}\r\n                                minZoom={0.38}\r\n                                //setInitTransform={TransformUpdater({x: 100, y: 100, z: 1})}\r\n                                //nodesDraggable={false}\r\n                                onNodeMouseEnter={onNodeMouseEnter}\r\n                                onNodeMouseLeave={onNodeMouseLeave}\r\n                                selectNodesOnDrag={false}\r\n                                onNodeContextMenu={onNodeContextMenu}\r\n                                onNodeDragStop={onNodeDragStop}\r\n                            >\r\n                            </ReactFlow>\r\n                            {hoverDisplay}\r\n                        </ReactFlowProvider>\r\n                    </div>                    \r\n                </Grid.Column>\r\n                <Grid.Column width=\"4\">\r\n                    <Sidebar/>\r\n                    {/* <DegreePlanner/> */}\r\n                </Grid.Column>\r\n            </Grid>\r\n            <div id=\"DegreePlanner\">\r\n                <DegreePlanner />\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\nBESengah.whyDidYouRender = true;\r\n\r\nexport default BESengah;","// HELPER FUNCTION for selecting nodes\r\n// Given a selectable node, highlights potential edges and fills in prereq edges\r\nimport checkPrerequisites from './checkprerequisites.js';\r\nimport getElement from './getelement.js';\r\n\r\nexport default function selectNode(elements, node, selectedNodes, selectedEdges, selectableNodes, potentialEdges) {\r\n    selectedNodes[node.id] = 1;\r\n    delete selectableNodes[node.id];\r\n\r\n    // Turn its prerequisite potential edges into actual edges\r\n    // Keep grey edges as grey\r\n    if (node.data.conditions.prerequisites !== null) {\r\n        for (const prereq of node.data.conditions.prerequisites) {\r\n            if (potentialEdges.hasOwnProperty('e' + prereq + '-' + node.id)) {\r\n                selectedEdges['e' + prereq + '-' + node.id] = 1;\r\n                delete potentialEdges['e' + prereq + '-' + node.id];\r\n            }\r\n        }\r\n    }\r\n\r\n    // Unlock its future edges\r\n    if (node.data.unlocks !== null) {\r\n        for (const unlockCourse of node.data.unlocks) {\r\n            // Edges from node to unlocks should be unselected\r\n            if (selectedNodes.hasOwnProperty(unlockCourse)) {\r\n                // This course is already selected. Make the edge a selected edge\r\n                selectedEdges['e' + node.id + '-' + unlockCourse] = 1;\r\n            } else {\r\n                // This course is either unselected or selectable\r\n                // In either case, add potential edge\r\n                potentialEdges['e' + node.id + '-' + unlockCourse] = 1;\r\n            }\r\n        }            \r\n    }\r\n\r\n    return;\r\n}\r\n","// HELPER FUNCTION to determine which previously unselectable nodes\r\n// are now selectable\r\nimport checkPrerequisites from './checkprerequisites.js';\r\nimport getElement from './getelement.js';\r\n\r\nexport default function getSelectable(elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges) {\r\n    // TODO: Deal with outsider nodes\r\n\r\n    // Analyse the target of potential edges for potential nodes\r\n    var analyseNodes = {};\r\n    const potentialEdgesKeys = Object.keys(potentialEdges);\r\n    for (var edge of potentialEdgesKeys) {\r\n        // Get the target course\r\n        const target = edge.split('-')[1];\r\n\r\n        if ((! selectedNodes.hasOwnProperty(target)) && (! selectableNodes.hasOwnProperty(target))) {\r\n            analyseNodes[edge.split('-')[1]] = 1;\r\n        }\r\n    }\r\n\r\n    const analyseNodesKeys = Object.keys(analyseNodes);\r\n    //console.log(\"==========ANALYSE NODES KEYS===========\");\r\n    //console.log(analyseNodesKeys);\r\n    //console.log(\"==============ELEMENTS===============\");\r\n    //console.log(elements);\r\n\r\n    for (const nodeID of analyseNodesKeys) {\r\n        // Determine if the prerequisite has been met\r\n        // For now, assume prerequisites are met\r\n        const node = getElement(nodeID, elements);\r\n        //console.log(node);\r\n        \r\n        if (checkPrerequisites(node, selectedNodes)) {\r\n            selectableNodes[nodeID] = 1;\r\n        } else {\r\n            if (selectableNodes.hasOwnProperty(nodeID)) delete selectableNodes[nodeID];\r\n            // TODO: Deal with selected nodes cases? (e.g. unselecting a child???)\r\n\r\n        }\r\n    }\r\n}","// HELPER FUNCTION to toggle exclusion courses\r\n// Will hide the current course and its edges, unhide the next course and edges\r\n// in the queue. Finds new edges to show by regex substitution???\r\nimport { getConnectedEdges } from 'react-flow-renderer';\r\nimport getElement from './getelement.js';\r\nimport checkPrerequisites from './checkprerequisites.js';\r\nimport unselectNode from './unselectnode.js';\r\n\r\nexport default function exclusionSwap(node, elements, edges, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges, exclusionGroups) {\r\n    console.log(\"EXCLUSION SWAP\");\r\n    console.log(exclusionGroups);\r\n    console.log(node.id);\r\n    const newElements = [...elements];\r\n    for (var group of exclusionGroups) {\r\n        console.log(\"CHECKING\", group);\r\n        if (group.includes(node.id)) {\r\n            console.log(\"FOUND THE EXCLUSION GROUP\");\r\n            console.log(group);\r\n\r\n            // Move this to the back\r\n            const prevCourse = group.shift();\r\n            group.push(prevCourse);\r\n\r\n            // Current course we need to display is now at front of queue\r\n            const curCourse = group[0];\r\n\r\n            console.log(prevCourse);\r\n            console.log(curCourse);\r\n\r\n\r\n            // Toggle the nodes themselves accordingly\r\n            for (var e of elements) {\r\n                if (e.id === prevCourse) {\r\n                    console.log(e);\r\n                    console.log(\"HIDING\");\r\n                    console.log(prevCourse);\r\n                    e.isHidden = true;\r\n                    console.log(e);\r\n                } else if (e.id === curCourse) {\r\n                    console.log(e);\r\n                    console.log(\"REVEALING\");\r\n                    console.log(curCourse);\r\n                    e.isHidden = false;\r\n                    console.log(e);\r\n                }\r\n            }\r\n\r\n            // Determine state of the nodes (E.g. COMP6441 can be selectable\r\n            // whilst COMP6841 is not)\r\n            var curNode = getElement(curCourse, elements);\r\n            if (checkPrerequisites(curNode, selectedNodes)) {\r\n                // The new node is selectable\r\n                console.log(\"================== SELECTABLE\", curCourse);\r\n                selectableNodes[curCourse] = 1;\r\n                \r\n                // Determine previous node condition\r\n                if (selectedNodes.hasOwnProperty(prevCourse)) {\r\n                    console.log(\"PREVIOUS SELECTED\", prevCourse);\r\n                    delete selectedNodes[prevCourse];\r\n                    delete selectableNodes[curCourse];\r\n                    selectedNodes[curCourse] = 1;\r\n                } else if (selectableNodes.hasOwnProperty(prevCourse)) {\r\n                    console.log(\"PREVIOUS SELECTABLE\", prevCourse);\r\n                    delete selectableNodes[prevCourse];\r\n                }\r\n            } else {\r\n                // The new node is not selectable\r\n                // Unselect the original node\r\n                unselectNode(elements, node, selectedNodes, selectedEdges, selectableNodes, potentialEdges);\r\n            }         \r\n\r\n            // Get all the edges of the previous course and hide all of them\r\n            // Then use regex sub to determine the new edges to reveal\r\n            // Transfer over selected, potential and hover edges if they are in newedgeslist\r\n            var edgesList = getConnectedEdges([node], edges);\r\n            var newEdgesList = getConnectedEdges([curNode], edges);\r\n            var edgesIds = [];\r\n            var newEdgesIds = [];\r\n            for (const edge of edgesList) {\r\n                edgesIds.push(edge.id);\r\n            }\r\n            for (const newEdge of newEdgesList) {\r\n                newEdgesIds.push(newEdge.id);\r\n            }        \r\n            var checkedEdges = [];\r\n\r\n            // Go through each edge we need to hide and check what we should do\r\n            // with the edge in hideEdgesList\r\n            for (const edge of edgesList) {\r\n                var hideEdge = getElement(edge.id, elements);\r\n                hideEdge.isHidden = true;\r\n                var newEdgeId = hideEdge.id.replace(prevCourse, curCourse);\r\n                if (getElement(newEdgeId, edges) !== null) {\r\n                    checkedEdges.push(newEdgeId);\r\n                } \r\n\r\n                // If selected, unselect it\r\n                if (selectedEdges.hasOwnProperty(hideEdge.id)) {\r\n                    delete selectedEdges[hideEdge.id];\r\n                    if (newEdgesIds.includes(newEdgeId)) {\r\n                        // This is in the newEdges list. Transfer the edge property\r\n                        selectedEdges[newEdgeId] = 1;\r\n                    }\r\n                }\r\n\r\n                // If potential, unpotential it\r\n                if (potentialEdges.hasOwnProperty(hideEdge.id)) {\r\n                    delete potentialEdges[hideEdge.id];\r\n                    if (newEdgesIds.includes(newEdgeId)) {\r\n                        // This is in the newEdges list. Transfer the edge property\r\n                        potentialEdges[newEdgeId] = 1;\r\n                    }\r\n                }\r\n\r\n                // If hover, unhover it\r\n                if (hoverEdges.hasOwnProperty(hideEdge.id)) {\r\n                    delete hoverEdges[hideEdge.id];\r\n                    if (newEdgesIds.includes(newEdgeId)) {\r\n                        // This is in the newEdges list. Transfer the edge property\r\n                        hoverEdges[newEdgeId] = 1;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            console.log(\"CHECKED EDGES\", checkedEdges);\r\n            \r\n            for (const edge of edgesIds) {\r\n                const newEdgeId = edge.replace(prevCourse, curCourse);\r\n                if (! checkedEdges.includes(newEdgeId)) {\r\n                    // Old edge which has not been transferred to new edge.\r\n                    // Deal with the TARGET NODE SELECTABILITY right here\r\n                    var target = newEdgeId.split('-')[1];\r\n                    console.log(\"CHECKING\", newEdgeId);\r\n                    console.log(\"TARGET IS\", target);\r\n                    // Note that we cannot use newEdge.target as this edge\r\n                    // DOES NOT EXIST ( i think )\r\n\r\n                    // TODO: TEMPORARY FIX. Make sure target is not current course\r\n                    if (target === curCourse) continue;\r\n\r\n                    if (selectableNodes.hasOwnProperty(target)) {\r\n                        console.log(\"Deleting \" + target);\r\n                        delete selectableNodes[target];\r\n                    }\r\n                }\r\n            }\r\n\r\n            // For each edge, show it IF TARGET AND SOURCE ARE NOT HIDDEN\r\n            // Will also show any additional edges\r\n            // (Example: COMP6441, COMP6841. COMP6841 -> COMP6448 but COMP6441 does not)\r\n            for (const newEdge of newEdgesList) {\r\n                var edge = getElement(newEdge.id, elements);\r\n                const sourceNode = getElement(edge.source, elements);\r\n                const targetNode = getElement(edge.target, elements);\r\n                if ((!sourceNode.isHidden) && (!targetNode.isHidden)) {\r\n                    // Show the edge if both nodes are not hidden\r\n                    edge.isHidden = false;    \r\n                }\r\n\r\n                // Determine if this edge has been checked before\r\n                if (checkedEdges.includes(newEdge.id)) {\r\n                    // It has been checked before\r\n                    // TODO: THIS CAN BREAK if both nodes have same edges\r\n                    // but one has an additional prerequisite??????\r\n                    continue;\r\n                } else {\r\n                    console.log(newEdge.id + \" NOT BEEN CHECKED BEFORE\")\r\n                    // It has NOT been checked before\r\n                    if (selectedNodes.hasOwnProperty(curCourse)) {\r\n                        console.log(curCourse + \" was previously seleted\");\r\n                        potentialEdges[newEdge.id] = 1;\r\n                        // Check if the target node is selectable\r\n                        if (! selectableNodes.hasOwnProperty(edge.target)) {\r\n                            if (checkPrerequisites(targetNode, selectedNodes)) {\r\n                                console.log(edge.target + \" DOES MEET PREREQS\");\r\n                                selectableNodes[targetNode.id] = 1;\r\n                            } else {\r\n                                console.log(edge.target + \" DOES NOT MEET PREREQS\");\r\n                            }\r\n                        }\r\n                    } else {\r\n                        console.log(curCourse + \" was not previously selected\")\r\n                        // The node was not selected before. Delete any potential edges\r\n                        // Make target node unselectable if prereqs are not met\r\n                        if (potentialEdges.hasOwnProperty(edge.id)) {\r\n                            console.log(\"DELETING \" + edge.id);\r\n                            delete potentialEdges[edge.id];\r\n                            if (selectableNodes.hasOwnProperty(edge.target)) {\r\n                                console.log(edge.target + \" WAS SELECTABLE\")\r\n                                if (! checkPrerequisites(targetNode, selectedNodes)) {\r\n                                    console.log(edge.target + \" DOES NOT MEET PREREQS\");\r\n                                    delete selectableNodes[targetNode.id];\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            /*for (const newEdge of newEdgesList) {\r\n                for (const edge of newElements) {\r\n                    if (newEdge.id === edge.id) {\r\n                        const sourceNode = getElement(edge.source, elements);\r\n                        const targetNode = getElement(edge.target, elements);\r\n                        if ((!sourceNode.isHidden) && (!targetNode.isHidden)) {\r\n                            edge.isHidden = false;\r\n                            \r\n                            \r\n                            // If the new node is selected, make this edge blue\r\n                            // Else, make this edge grey. Deals with differing edge\r\n                            // cases COMP6441 and COMP6841\r\n                            if (selectedNodes.hasOwnProperty(curCourse)) {\r\n                                potentialEdges[edge.id] = 1;\r\n                                // Make sure the target node is selectable\r\n                                if (! selectableNodes.hasOwnProperty(edge.target)) {\r\n                                    if (checkPrerequisites(targetNode, selectedNodes)) {\r\n                                        selectableNodes[targetNode.id] = 1;\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                if (potentialEdges.hasOwnProperty(edge.id)) {\r\n                                   delete potentialEdges[edge.id];\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }*/\r\n\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n    return newElements;\r\n}","// HELPER FUNCTION to highlight prerequisites in purple on hover\r\n// When hovering over an unselected node, show a path of edges\r\n// which will stop at a selected/selectable node\r\nimport getElement from './getelement.js';\r\n\r\nexport default function hoverPrerequisites(node, elements, selectedNodes, selectedEdges, selectableNodes, potentialEdges, hoverEdges) {\r\n    if (node.data.conditions.prerequisites === null) return;\r\n    // Get all selected edges one layer down and add to hover edges\r\n    for (const prereq of node.data.conditions.prerequisites) {\r\n        if (selectedEdges.hasOwnProperty('e' + prereq + '-' + node.id)) {\r\n            hoverEdges['e' + prereq + '-' + node.id] = 1;\r\n        }\r\n    }\r\n\r\n    // hoverEdge all unselected (AND POTENTIAL???) edges until we hit selected/selectable node\r\n    var prereqQueue = [node.id];\r\n    while (prereqQueue.length !== 0) {\r\n        const current = getElement(prereqQueue.shift(), elements);\r\n        // Make sure this course exists as a node in our map\r\n        if (current === null) continue;\r\n\r\n        if (current.data.conditions.prerequisites === null) continue;\r\n\r\n        for (const prereq of current.data.conditions.prerequisites) {\r\n            if (!selectedEdges.hasOwnProperty('e' + prereq + '-' + current.id)) {\r\n                hoverEdges['e' + prereq + '-' + current.id] = 1;\r\n            }\r\n            /*if ((!selectedEdges.hasOwnProperty('e' + prereq + '-' + current.id)) && (!potentialEdges.hasOwnProperty('e' + prereq + '-' + current.id))) {\r\n                hoverEdges['e' + prereq + '-' + current.id] = 1;\r\n            }*/\r\n\r\n            if ((!selectedNodes.hasOwnProperty(prereq)) && (!selectableNodes.hasOwnProperty(prereq))) {\r\n                prereqQueue.push(prereq);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import React, {useState, Fragment} from 'react';\r\nimport ReactFlow, {Background, Controls, MiniMap} from 'react-flow-renderer';\r\n\r\nvar initialElements = [\r\n    {id: '1', style: {opacity: 1}, position: {x: 0, y: 0}, data: {label: 'VINCENT'}, type: 'default'},\r\n    {id: '2', style: {opacity: 1}, position: {x: 0, y: 100}, data: {label: 'HAYES'}, type: 'default'},\r\n    {id: '3', style: {opacity: 1}, position: {x: 0, y: -100}, data: {label: 'JAMES'}, type: 'default'},\r\n    \r\n    {id: 'e1-2', source: '1', target: '2', type: 'step', animated: true}\r\n];\r\n\r\nconst onLoad = (reactFlowInstance) => {\r\n    reactFlowInstance.fitView();\r\n}\r\n\r\nconst Teaching = () => {\r\n    const [elements, setElements] = useState(initialElements);\r\n    const [isDraggable, setIsDraggable] = useState(true);\r\n\r\n    const addNode = () => {\r\n        setElements(e => e.concat({\r\n            id: (e.length+1).toString(),\r\n            data: {label: 'new node' + e.length},\r\n            position: {x: Math.random() * window.innerWidth, y: Math.random() * window.innerHeight}\r\n        }));\r\n    };\r\n    \r\n\r\n    const onClick = (event, element) => {\r\n        console.log('hi');\r\n        setElements((els) =>\r\n            els.map((e) => {\r\n                if (e.id === element.id) {\r\n                    console.log(element);    \r\n                    console.log(e.style.opacity);\r\n                    return e;\r\n                }\r\n                return e;\r\n            })\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <ReactFlow\r\n                elements={elements}\r\n                onLoad={onLoad}\r\n                style={{width: \"100%\", height: \"99vh\"}}\r\n                onElementClick={onClick}\r\n                nodesDraggable={false}\r\n            >\r\n                <Background />\r\n                <MiniMap \r\n                    nodeColor = {n=>{\r\n                        if (n.data.label === 'VINCENT') return 'red';\r\n                        return 'blue';\r\n                    }}\r\n                />\r\n                <Controls />\r\n            </ReactFlow>\r\n            <div>\r\n                <button type=\"button\" onClick={addNode}>\r\n                    ADD NEW NODE HERE!!!!\r\n                </button>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Teaching;","import React, {Component} from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Link,\r\n  Redirect,\r\n  HashRouter\r\n} from 'react-router-dom';\r\n\r\nimport BESengah from './maps/EngineeringHonoursSoftware/map.js';\r\nimport Teaching from './components/teaching.js';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <HashRouter basename='/'>\r\n        <div>\r\n          <hr />\r\n          <Route path=\"/\" component={BESengah} />\r\n          <Route path=\"/Teaching\" component={Teaching}/>\r\n        </div>\r\n      </HashRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}